<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<canvas height="300" width="400"></canvas>
<script>

    var filters = {
        grayscale: function (pixel_array) {
            // modify the pixel array
        }
    };

    // create an image
    var img = new Image();
    img.src = 'nature.jpg';
    img.addEventListener('load', function () {
        console.log('Image is loaded ... ');
        context.drawImage(img, 0, 0);

        // get pixel information for the canvas
        var imagedata = context.getImageData(0, 0, 400, 300);
        console.log('imagedata: ', imagedata);
        var pixel_array = imagedata.data;
        console.log(pixel_array.length);

        // apply a grayscale filter
        filters.grayscale(pixel_array);

        // apply the changes back to the context;
        context.putImageData(imagedata, 0, 0);
    });

</script>

</body>
</html>